.row.mt-4.loading
  .col-2.d-flex.justify-content-end
    #reset.btn.btn-outline-secondary(hx-get="reset" hx-target="#model-container" hx-indicator="#spinner")
      span.mdi.mdi-page-first Reset
  .col-4.justify-content-center
    .btn-group(role="group")
      #add.btn.btn-outline-secondary.rounded-start-2(hx-get="add" hx-target="#model-container" hx-indicator="#spinner" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Add one optimal feature") Add
        span.mdi.mdi-chevron-right
      #fill.btn.btn-outline-secondary(hx-get="fill" hx-target="#model-container" hx-indicator="#spinner") Fill
        span.mdi.mdi-page-last
  .col-6.d-flex.justify-content-end
    .btn-group(role="group")
      #save.btn.btn-outline-secondary= "Save "
        span.mdi.mdi-content-save
      input#filename.form-control.d-none.rounded-end-0(type="text" placeholder="Save name")
      #save-confirm.btn.btn-outline-primary.d-none Confirm
      button.btn.btn-outline-secondary.flex-shrink-0(data-bs-toggle="offcanvas" data-bs-target="#history")= "History "
        span.mdi.mdi-history
        span.badge.text-bg-secondary.rounded-pill.position-absolute.top-0.start-100.translate-middle= historylength

#feature-container.row.mt-3.loading
  .col-2
    ul#unused.list-group.text-center
      .fw-bold.list-group-item.p-2 Unused
      each fidx, f in var.items
        li.list-group-item.list-group-item-action.p-2.text-truncate.draghandle(data-feature=fidx data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title=f)= f
          span.mdi.mdi-plus.btn.btn-sm.p-0.position-absolute.end-0.add.d-none(onclick="add(event)")
  .col-10
    ul#used.list-group.text-center
      .fw-bold.list-group-item.d-flex.p-0
        .cell.col-3.p-2.text-truncate Features
        .cell.col-1.border-start.p-2.text-truncate Scores
        for head in headings
          .cell.col.border-start.p-2.text-truncate= head
      each row in rows
        li.list-group-item.list-group-item-action.d-flex.p-0(data-feature=row["fidx"] data-threshold=row["thresh"])
          // we could also add additional data into the datafield. such as the threshold
          .cell.label.col.col-3.p-2.text-truncate.draghandle.position-relative(data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title=row["fname"]+row["thresh"])= row.fname
            if row.thresh != ""
              = row.thresh
            span.mdi.mdi-close.btn.btn-sm.p-0.position-absolute.end-0.remove.d-none(onclick="remove(event)")
          .cellcol.col-1.border-start.p-2.text-truncate.d-flex.justify-content-around.align-items-center
            span.mdi.mdi-minus.btn.btn-sm.p-0.decr(onclick="score(event, -1)")
            = row.score
            span.mdi.mdi-plus.btn.btn-sm.p-0.incr(onclick="score(event, 1)")
          each val in row.probas
            .cell.col.border-start.pt-2.pb-2.text-truncate.proba-cell= val

script.
  labels = !{labels};
  data = !{metric};